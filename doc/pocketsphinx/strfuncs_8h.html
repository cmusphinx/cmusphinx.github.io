<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.17"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>PocketSphinx: sphinxbase/strfuncs.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">PocketSphinx
   &#160;<span id="projectnumber">5.0.0rc2</span>
   </div>
   <div id="projectbrief">A small speech recognizer</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.17 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_da7289121d0013e03540a8198af12b2c.html">sphinxbase</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#enum-members">Enumerations</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">strfuncs.h File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Miscellaneous useful string functions.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &lt;stdarg.h&gt;</code><br />
<code>#include &lt;sphinxbase/sphinxbase_export.h&gt;</code><br />
<code>#include &lt;<a class="el" href="prim__type_8h_source.html">sphinxbase/prim_type.h</a>&gt;</code><br />
</div>
<p><a href="strfuncs_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="enum-members"></a>
Enumerations</h2></td></tr>
<tr class="memitem:ab5c9ca15770a4bd3047705762b815df9"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="strfuncs_8h.html#ab5c9ca15770a4bd3047705762b815df9">string_edge_e</a> { <a class="el" href="strfuncs_8h.html#ab5c9ca15770a4bd3047705762b815df9a5e4d73e6ca445be10fa48351b9571125">STRING_START</a>, 
<a class="el" href="strfuncs_8h.html#ab5c9ca15770a4bd3047705762b815df9a11f31598e50bf3cf1d0aa97d967bb9b9">STRING_END</a>, 
<a class="el" href="strfuncs_8h.html#ab5c9ca15770a4bd3047705762b815df9a4fcbb0fe16fa4aa48723ba3ba10c26dd">STRING_BOTH</a>
 }</td></tr>
<tr class="separator:ab5c9ca15770a4bd3047705762b815df9"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a317522f23d291311e366de34ef86b777"><td class="memItemLeft" align="right" valign="top">SPHINXBASE_EXPORT char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="strfuncs_8h.html#a317522f23d291311e366de34ef86b777">string_join</a> (const char *base,...)</td></tr>
<tr class="separator:a317522f23d291311e366de34ef86b777"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac36a095632a4f16cf4e0fbcdb01de5ad"><td class="memItemLeft" align="right" valign="top">SPHINXBASE_EXPORT char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="strfuncs_8h.html#ac36a095632a4f16cf4e0fbcdb01de5ad">string_trim</a> (char *string, enum <a class="el" href="strfuncs_8h.html#ab5c9ca15770a4bd3047705762b815df9">string_edge_e</a> which)</td></tr>
<tr class="separator:ac36a095632a4f16cf4e0fbcdb01de5ad"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab708351fe7308551632a782bfad75a1e"><td class="memItemLeft" align="right" valign="top">SPHINXBASE_EXPORT double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="strfuncs_8h.html#ab708351fe7308551632a782bfad75a1e">atof_c</a> (char const *str)</td></tr>
<tr class="separator:ab708351fe7308551632a782bfad75a1e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5b520fdebcca599db86faaf75a82173f"><td class="memItemLeft" align="right" valign="top">SPHINXBASE_EXPORT int32&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="strfuncs_8h.html#a5b520fdebcca599db86faaf75a82173f">str2words</a> (char *line, char **wptr, int32 n_wptr)</td></tr>
<tr class="separator:a5b520fdebcca599db86faaf75a82173f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a41d9a59e4326b545bf1282401319f553"><td class="memItemLeft" align="right" valign="top">SPHINXBASE_EXPORT int32&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="strfuncs_8h.html#a41d9a59e4326b545bf1282401319f553">nextword</a> (char *line, const char *delim, char **word, char *delimfound)</td></tr>
<tr class="separator:a41d9a59e4326b545bf1282401319f553"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Miscellaneous useful string functions. </p>
</div><h2 class="groupheader">Enumeration Type Documentation</h2>
<a id="ab5c9ca15770a4bd3047705762b815df9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab5c9ca15770a4bd3047705762b815df9">&#9670;&nbsp;</a></span>string_edge_e</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="strfuncs_8h.html#ab5c9ca15770a4bd3047705762b815df9">string_edge_e</a></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Which end of a string to operate on for <a class="el" href="strfuncs_8h.html#ac36a095632a4f16cf4e0fbcdb01de5ad">string_trim()</a>. </p>
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="ab5c9ca15770a4bd3047705762b815df9a5e4d73e6ca445be10fa48351b9571125"></a>STRING_START&#160;</td><td class="fielddoc"><p>Beginning of string. </p>
</td></tr>
<tr><td class="fieldname"><a id="ab5c9ca15770a4bd3047705762b815df9a11f31598e50bf3cf1d0aa97d967bb9b9"></a>STRING_END&#160;</td><td class="fielddoc"><p>End of string. </p>
</td></tr>
<tr><td class="fieldname"><a id="ab5c9ca15770a4bd3047705762b815df9a4fcbb0fe16fa4aa48723ba3ba10c26dd"></a>STRING_BOTH&#160;</td><td class="fielddoc"><p>Both ends of string. </p>
</td></tr>
</table>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="ab708351fe7308551632a782bfad75a1e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab708351fe7308551632a782bfad75a1e">&#9670;&nbsp;</a></span>atof_c()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">SPHINXBASE_EXPORT double atof_c </td>
          <td>(</td>
          <td class="paramtype">char const *&#160;</td>
          <td class="paramname"><em>str</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Locale independent version of atof().</p>
<p>This function behaves like atof() in the "C" locale. Switching locale in a threaded program is extremely uncool, therefore we need this since we pass floats as strings in 1000 different places. </p>

</div>
</div>
<a id="a41d9a59e4326b545bf1282401319f553"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a41d9a59e4326b545bf1282401319f553">&#9670;&nbsp;</a></span>nextword()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">SPHINXBASE_EXPORT int32 nextword </td>
          <td>(</td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>line</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>delim</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char **&#160;</td>
          <td class="paramname"><em>word</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>delimfound</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Yet another attempt at a clean "next-word-in-string" function. See arguments below. </p><dl class="section return"><dt>Returns</dt><dd>Length of word returned, or -1 if nothing found. This allows you to scan through a line:</dd></dl>
<pre>
while ((n = nextword(line, delim, &amp;word, &amp;delimfound)) &gt;= 0) {
    ... do something with word ..
    word[n] = delimfound;
    line = word + n;
}
</pre> <dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">line</td><td>Input: String being searched for next word. Will be modified by this function (NUL characters inserted) </td></tr>
    <tr><td class="paramname">delim</td><td>Input: A word, if found, must be delimited at either end by a character from this string (or at the end by the NULL char) </td></tr>
    <tr><td class="paramname">word</td><td>Output: *word = ptr within line to beginning of first word, if found. Delimiter at the end of word replaced with the NULL char. </td></tr>
    <tr><td class="paramname">delimfound</td><td>Output: *delimfound = original delimiter found at the end of the word. (This way, the caller can restore the delimiter, preserving the original string.) </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a5b520fdebcca599db86faaf75a82173f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5b520fdebcca599db86faaf75a82173f">&#9670;&nbsp;</a></span>str2words()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">SPHINXBASE_EXPORT int32 str2words </td>
          <td>(</td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>line</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char **&#160;</td>
          <td class="paramname"><em>wptr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int32&#160;</td>
          <td class="paramname"><em>n_wptr</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Convert a line to an array of "words", based on whitespace separators. A word is a string with no whitespace chars in it. Note that the string line is modified as a result: NULL chars are placed after every word in the line. Return value: No. of words found; -1 if no. of words in line exceeds n_wptr. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">line</td><td>In/Out: line to be parsed. This string will be modified! (NUL characters inserted at word boundaries) </td></tr>
    <tr><td class="paramname">wptr</td><td>In/Out: Array of pointers to words found in line. The array must be allocated by the caller. It may be NULL in which case the number of words will be counted. This allows you to allcate it to the proper size, e.g.:</td></tr>
  </table>
  </dd>
</dl>
<p>n = str2words(line, NULL, 0); wptr = <a class="el" href="ckd__alloc_8h.html#aa00ef21903bc4f8a972488417adc8d2e">ckd_calloc(n, sizeof(*wptr))</a>; str2words(line, wptr, n); </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">n_wptr</td><td>In: Size of wptr array, ignored if wptr == NULL </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a317522f23d291311e366de34ef86b777"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a317522f23d291311e366de34ef86b777">&#9670;&nbsp;</a></span>string_join()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">SPHINXBASE_EXPORT char* string_join </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>base</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>...</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Concatenate a NULL-terminated argument list of strings, returning a newly allocated string. </p>

</div>
</div>
<a id="ac36a095632a4f16cf4e0fbcdb01de5ad"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac36a095632a4f16cf4e0fbcdb01de5ad">&#9670;&nbsp;</a></span>string_trim()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">SPHINXBASE_EXPORT char* string_trim </td>
          <td>(</td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>string</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">enum <a class="el" href="strfuncs_8h.html#ab5c9ca15770a4bd3047705762b815df9">string_edge_e</a>&#160;</td>
          <td class="paramname"><em>which</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Remove whitespace from a string, modifying it in-place.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">string</td><td>string to trim, contents will be modified. </td></tr>
    <tr><td class="paramname">which</td><td>one of STRING_START, STRING_END, or STRING_BOTH. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.17
</small></address>
</body>
</html>
